spring:
  application:
    name: analyzer
  main:
    web-application-type: none
  kafka:
    bootstrap-servers: localhost:9092
  datasource:
    url: jdbc:postgresql://localhost:5432/telemetry
    username: postgres
    password: password
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: false

grpc:
  server:
    port: -1
  client:
    hub-router:
      address: static://localhost:59090
      negotiation-type: plaintext
      enable-keep-alive: true
      keep-alive-without-calls: true

logging:
  level:
    ru.yandex.practicum.telemetry.analyzer: INFO

app:
  kafka:
    snapshots-group-id: analyzer-snapshots-group
    hub-events-group-id: analyzer-hubevents-group
    sensor-events-group-id: analyzer-sensorevents-group
    hubs-topic: telemetry.hubs.v1
    sensors-topic: telemetry.sensors.v1
    snapshots-topic: telemetry.snapshots.v1
    auto-offset-reset: latest
    enable-auto-commit: false
    poll-timeout-ms: 100
    session-timeout-ms: 30000
    max-poll-interval-ms: 300000
    max-poll-records: 500
    acks: all
    retries: 3
    linger-ms: 0
    batch-size: 16384
    buffer-memory: 33554432
    request-timeout-ms: 30000
    delivery-timeout-ms: 120000

  scenarios:
    turn-off-all-lights-name: "Выключить все лампы"
    special-scenarios: "Специальные сценарии"
    command-delay-ms: 10
    max-retry-attempts: 3

  grpc:
    retry-status-codes: "UNAVAILABLE,DEADLINE_EXCEEDED"
    retry-delay-ms: 100

  sensor-state:
    cache:
      enabled: true
      ttl-minutes: 60
      max-size: 10000
      cleanup-interval-minutes: 5

  conditions:
    allowed-operations: "EQUALS,GREATER_THAN,LOWER_THAN"